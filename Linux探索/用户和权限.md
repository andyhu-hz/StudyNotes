# 概述      
Linux是个多用户的系统，虽然windows也可以创建多个用户，但和Linux的用户分类是有差别的，Linux分为root用户和普通用户，root拥有最高权限，它可以做任何事情，我们在安装Linux系统时，它会引导你创建一个用户，我们平时都是以这个用户来进行操作的，只有在特定时才会切换到root身份。突然想到当初玩Android手机时，有些系统设置时，会提示权限不够，需要有root权限，因为Android是基于Linux内核的，所有用户分类也是对应的。        

## 暂时获取root权限      

Ubuntu中默认不允许直接root用户登录，我们只能在普通用户登录中暂时获取root用户权限        

**使用sudo命令**       

sudo(Substitute User DO)             

sudo 命令      
系统会首先确认当前用户的密码，然后才会以root权限执行命令     

## 一直获取root权限     

以普通用户打开终端时是这样的      

![](http://i2.muimg.com/567571/94a85063e3d290d1.png)      

使用命令**sudo su**     
可以从普通用户权限升级到root用户权限    
这时可以看到我们的终端提示符也发生了变化     


![](http://i2.muimg.com/567571/c0550cdaad5f002a.png)     


可以随时使用**exit**命令退出root用户模式      


## 使用特殊命令       

这些都是在root用户权限才能使用的命令     

### 用户管理命令  

* adduser：添加新用户      
```adduser 要创建的用户名```

先进入root运行命令，创建bao用户，终端会提示你设置bao用户的密码，之后还有很多信息需要配置，可以使用回车略过        

* passwd：修改用户密码     
root下       
```passwd 用户名```


* deluser:删除用户     
这个命令就是delete User的缩写      
```deluser bao```       
将此用户的home目录一并删除      
```deluser --remove-home bao```     


### 群组管理命令     
Linux的每个用户都属于一个特定的群组，我们安装系统时所创建的用户也属于一个群组，其实，如果我们不设置用户的群组，系统会默认创建一个和用户名一样的群组，并把用户划分到这个群组中     
但是群组有什么用呢，也许现在体会不到它的用处，将来laozi的电脑上有很多用户的时候就可能非常有用了         


* addgroup：创建群组      

```addgroup 群组名```        
现在已经新建了一个新的群组，这个群组还是空的，我们还没有添加用户。      

* usermod: 修改用户账户       
这个命令是user和modify的缩写      

```usermod -l``` 对用户重命名，但是/home的上层名不会改，需要手动修改      

```usermod -g```  修改用户所在群组        

```groups 用户名``` 查看用户所在群组      


* delgroup：删除群组     
这个命令是delete和group的缩写       

```delgroup 群组名```       


### 修改文件的所有者      

下面的命令都需要在root权限下执行     

* chown：改变文件的所有者       
这个命令是change和owner的缩写        

```chown 新的用户名 文件名```     
但是这个命令执行后文件的群组并没有改变，要彻底的更改要用到先下面的这个命令     

* chgrp：改变文件的群组       
这个命令是change和group的缩写      

```chgrp 群组名 文件名```       

### 修改访问权限      

* 概述       

先胡扯一点，今天我们举办了手语操比赛，天气很热，我是在看比赛的时候看的这部分内容的，虽然当时的环境并不好，但我还是把这个部分的内容看懂了，并且到现在还有点印象。我一向不喜欢参加学生会组织的这种那种活动，因为我总是觉得他们会把活动搞的变了味道，就这个手语操，我从最开始的训练就没有当回事，我一直认为它在浪费我的时间，但是后来我又想了想，这确实是一个集体活动，之前都没有好好参加训练，所以直到今天比赛的时候，我还是不会做那些看上去很简单的动作，但是今天上场比赛的时候，我一个人不会做并没有影响到班级的整体水平，这可能就是集体的力量吧，我这个人从小到大行为都很散漫，我不喜欢被人，被制度约束，这个性格为我做出过很多重要的选择，也正是因为这种性格，我喜欢当领导，但是要当领导，就需要有才能，所以，不扯淡了，开始总结今天学到的东西。(2017.5.14.23:30)         


权限是什么，就是权利啊，对于Linux来说，所有的东西都是文件，所以权限就是指对文件的特殊操作，权限具体有读，修改，运行等操作。        

先来一张图      

![](http://i2.muimg.com/588926/192849aff6eacadb.png)   


这里我用ls-l命令查看了一下/home目录下的文件的详细信息，可以看到有很多文件夹，他们的名字在每一行的末尾，而现在说的权限就在每一行的开头，就是这些**drwxrwxrwx**这些符号，第一次看很懵逼，其实这些都是权限符       


|权限符      |含义         |
|-----------|------------|
|d          |文件夹directory的缩写，表示目录，就是说这是一个目录|
|l          |链接link的缩写，就是说这是一个链接 |
|r          |读read的缩写，就是说可以读这个文件|
|w          |写write的缩写，就是可以修改这个文件|
|x          |运行execute的缩写，就是说可以运行这个文件|

但是为什么会有很多组这样的权限符组合呢，而且有的地方还有-     
通过一个具体的例子来分析一下       

**drwxrw-r--**       

一共四个部分         
d————rwx————rw-————r--        
目录————所有者————群组————其他用户           
第一个部分就表示文件或目录的属性（目录或链接），其他的九个符号分为三组，一组代表一个用户的权限      

这个例子就代表该目录下的所有文件，其所有者可以对文件进行读写运行的操作，文件所属的群组里的其他用户可以对文件进行读写操作，其他用户对文件只能进行读的操作        

-表示该用户层次没有该项权限     

* chmod：修改文件的访问权限      
这个命令是change和mode的缩写       


```chmod 数字 文件名```     

这里的数字TM是啥      
Linux对每种权限分配了对应的数字    

|权限符     |数字     |
|----------|--------|
|r         |4       |
|w         |2       |
|x         |1       |

将权限组合起来时只需要将数字相加就行了，举个例子    
**640**     
先将三个用户层次想清楚（所有者的权限，群组用户的权限，其他用户的权限），   
然后就很明了了     
1.文件的所有者有读和写的权限    
2.群组里的其他用户有读的权限       
3.其他用户没有任何权限         

所以，最宽泛的权限就是777了，最小权限就是000         

* 举个例子     
![](http://i2.muimg.com/588926/192849aff6eacadb.png)      

这里我用命令```chmod 600 bao```将bao这个目录的权限修改为600    
然后在查看一下它的权限符     
![](http://i4.buimg.com/588926/97310dfe8403c5c4.png)      
变成了**drw------**正好是600，现在除了我能对这个目录的文件进行读和写操作，其他人啥也别想做       


```chmod 字母 文件名```       
这是另一种用法        
这里的字母又TM是啥      

咔，又来一张表   

|字母         |含义       |
|------------|-----------|
|u           |user的缩写，表示所有者|
|g           |group的缩写，表示群组用户|
|o           |other的缩写，表示其他用户|
|a           |all的缩写，表示所有用户|

还有几个符号     

|符号        |含义        |
|-----------|-----------|
|+          |添加权限    |
|-          |去除权限    |
|=          |分配权限    |

举个例子        
对目录bao        
**chmod u+rx bao**(对目录的所有者添加读和运行的权限)       
**chmod u=rwx,g=r,o=- bao**(对目录的所有者分配读写，运行的权限，群组其他用户分配读的权限，其他用户没有任何权限)          


```chmod -R 数字 目录名```      
又是这个流氓参数，这次它能递归的修改权限，举个例子       
chmod -R 700 /home/barackbao      
这时只有我能对我的文件做操作，拥有最高权限7,其他用户没有任何权限      


夜深了，这篇笔记也终于写完了，接下来的几天要好好复习了，加油，BarackBao,晚安。          
